import{q as R,C as A,f as u,b as r,t as d,a as t,u as e,w as c,p as k,x as S,g as C,d as p,e as $,c as O,n as q,o as m,F as z,j as D}from"./app-D2Fj5F7q.js";import{_ as F}from"./AuthenticatedLayout-BlfXxPpd.js";import{a as _,b as l,_ as n}from"./TextInput-BESpke2H.js";import{P as B}from"./PrimaryButton-BZjr5Uyd.js";import{_ as M}from"./Dropdown-DXmd1WP2.js";/* empty css            */import"./_plugin-vue_export-helper-DlAUqK2U.js";const T={class:"section"},H={class:"breadcrumb","aria-label":"breadcrumbs"},I=["href"],L={class:"title has-text-primary"},G={class:"container"},J={class:"container mt-4"},K={class:"container mt-4"},Q={class:"container mt-4"},W=["value"],X={class:"container mt-4"},Y={class:"is-flex is-flex-direction-row"},Z={key:0,class:"container mt-4"},ss={class:"is-flex is-flex-direction-row"},es={class:"mt-4 is-flex is-justify-content-end"},ms=Object.assign({layout:F},{__name:"Show",props:{user:{type:Object,default:null},roles:{type:Array}},setup(f){var g,w,y,b,V,U,x,h;const i=f,v=R().props.auth.user,s=A({name:((g=i.user)==null?void 0:g.name)||"",surname:((w=i.user)==null?void 0:w.surname)||"",email:((y=i.user)==null?void 0:y.email)||"",password:((b=i.user)==null?void 0:b.password)||"password",password_confirmation:((V=i.user)==null?void 0:V.password)||"password",role:((U=i.user)==null?void 0:U.role)||"",view_rating_history:((x=i.user)==null?void 0:x.view_rating_history)||!1,is_admin:((h=i.user)==null?void 0:h.is_admin)||!1}),N=()=>{s.post(route("users.store"),{onSuccess:()=>s.reset()})},P=()=>{s.put(route("users.update",i.user.id),{onSuccess:()=>s.reset()})},j=()=>{s.put(route("users.reset_password",i.user.id),{onSuccess:()=>s.reset()})};return(E,a)=>(m(),u("section",T,[r("nav",H,[r("ul",null,[r("li",null,[r("a",{href:E.route("users.index")},"Users",8,I)]),a[7]||(a[7]=r("li",{class:"is-active"},[r("a",{href:"#","aria-current":"page"},"Add Users")],-1))])]),r("form",{onSubmit:a[6]||(a[6]=$(o=>i.user==null?N():P(),["prevent"])),method:"POST"},[r("h1",L,d(i.user==null?"Create new User":"Edit User"),1),r("div",G,[t(n,{for:"name",value:"Name"}),t(_,{id:"name",class:"mt-1",modelValue:e(s).name,"onUpdate:modelValue":a[0]||(a[0]=o=>e(s).name=o),required:"",autofocus:""},null,8,["modelValue"]),t(l,{class:"mt-2",message:e(s).errors.name},null,8,["message"])]),r("div",J,[t(n,{for:"surname",value:"Surname"}),t(_,{id:"surname",class:"mt-1",modelValue:e(s).surname,"onUpdate:modelValue":a[1]||(a[1]=o=>e(s).surname=o),required:"",autofocus:""},null,8,["modelValue"]),t(l,{class:"mt-2",message:e(s).errors.surname},null,8,["message"])]),r("div",K,[t(n,{for:"email",value:"Email"}),t(_,{id:"Email",class:"mt-1",modelValue:e(s).email,"onUpdate:modelValue":a[2]||(a[2]=o=>e(s).email=o),required:"",type:"email",autocomplete:"username"},null,8,["modelValue"]),t(l,{class:"mt-2",message:e(s).errors.email},null,8,["message"])]),r("div",Q,[t(n,{for:"role",value:"Role"}),t(M,{id:"role",class:"mt-1 block w-full border-gray-300 rounded-md",modelValue:e(s).role,"onUpdate:modelValue":a[3]||(a[3]=o=>e(s).role=o),required:""},{default:c(()=>[a[8]||(a[8]=r("option",{value:"",disabled:""},"Select Role",-1)),(m(!0),u(z,null,D(f.roles,o=>(m(),u("option",{value:o,class:"is-capitalized"},d(o),9,W))),256))]),_:1},8,["modelValue"]),t(l,{class:"mt-2",message:e(s).errors.role},null,8,["message"])]),r("div",X,[r("div",Y,[t(n,{for:"rating_history",value:"Can View Rating History",class:"mr-2"}),k(r("input",{id:"is_admin",class:"mt-1",type:"checkbox","onUpdate:modelValue":a[4]||(a[4]=o=>e(s).view_rating_history=o)},null,512),[[S,e(s).view_rating_history]])]),t(l,{class:"mt-2",message:e(s).errors.view_rating_history},null,8,["message"])]),e(v).is_admin?(m(),u("div",Z,[r("div",ss,[t(n,{for:"is_admin",value:"Is Admin",class:"mr-2"}),k(r("input",{id:"is_admin",class:"mt-1",type:"checkbox","onUpdate:modelValue":a[5]||(a[5]=o=>e(s).is_admin=o)},null,512),[[S,e(s).is_admin]])]),t(l,{class:"mt-2",message:e(s).errors.is_admin},null,8,["message"])])):C("",!0),r("div",es,[a[10]||(a[10]=p("' ")),r("form",{onSubmit:$(j,["prevent"])},[e(v).is_admin?(m(),O(B,{key:0,class:q(["mr-4 is-link",{"opacity-25":e(s).processing}]),disabled:e(s).processing},{default:c(()=>a[9]||(a[9]=[p(" Reset Password ")])),_:1},8,["class","disabled"])):C("",!0)],32),t(B,{class:q({"opacity-25":e(s).processing}),disabled:e(s).processing},{default:c(()=>[p(d(i.user==null?"Create User":"Update User"),1)]),_:1},8,["class","disabled"])])],32)]))}});export{ms as default};
